Пример эхо по UART in cycle while() {}
No HAL
Базовый пример, рассчитан на работу на плате с  программатором 
mik32 Amur K1948BK018